<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Epic Slots</title>
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no">
    <meta property="og:url" content="https://lanwanhudong.github.io/webshare/epicslots/fbshare.html" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="Epic Slots" />
    <meta property="og:description" content="Epic Slots" />
    <meta property="og:image" content="https://lanwanhudong.github.io/webshare/epicslots/icon.png" />
    <meta property="og:image:width" content="256" />
    <meta property="og:image:height" content="256" />
    <meta property="fb:app_id" content="1284291958421891" />

    <meta property="al:android:url" content="epicslots://fbshare">
    <meta property="al:android:package" content="com.zsang.shawngames">
    <meta property="al:android:app_name" content="Epic Slots">

    <meta property="al:ios:url" content="epicslots://fbshare" />
    <meta property="al:ios:app_store_id" content="1480181667" />
    <meta property="al:ios:app_name" content="Epic Slots" />
    <script>
        var androidPkaName = document.querySelector('meta[property="al:android:package"]').getAttribute('content');
        var iosAppstoreId = "id" + document.querySelector('meta[property="al:ios:app_store_id"]').getAttribute('content');
        var iconSrc = document.querySelector('meta[property="og:image"]').getAttribute('content');
        var title = document.querySelector('meta[property="og:title"]').getAttribute('content');

        var u = navigator.userAgent;
        var isAndroid = u.indexOf('Android') > -1 || u.indexOf('Adr') > -1; //android终端
        var isiOS = !!u.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/); //ios终端

        var refer = getQueryVariable("referrer");
        //href="https://epicslots.page.link/share"
        var androidGPLink = 'https://play.google.com/store/apps/details?id=' + androidPkaName + '&referrer=' + refer;
        var iosLink = 'https://itunes.apple.com/cn/app/amo-rush/' + iosAppstoreId + '?ls=1&mt=8&referrer=' + refer;
        if (isAndroid) {
            location.href = androidGPLink;
        } else if (isiOS) {
            alert("Comming soon!")
            // location.href=iosLink;
        } else {
            console.log("")
        }
        function getQueryVariable(variable) {
            var query = window.location.search.substring(1);
            var vars = query.split("&");
            for (var i = 0; i < vars.length; i++) {
                var pair = vars[i].split("=");
                if (pair[0] == variable) {
                    return pair[1];
                }
            }
            return "";
        }
        window.onload = function () {
            var titleEle = document.getElementById("title");
            if (titleEle) {
                titleEle.innnerHTML = title;
            }
            var imgEle = document.getElementById("img");
            if (imgEle) {
                imgEle.src = iconSrc;
            }
            var gpLinkEle = document.getElementById("gpLink");
            if (gpLinkEle) {
                gpLinkEle.href = androidGPLink;
            }
            var iosLinkEle = document.getElementById("iosLink");
            if (iosLinkEle) {
                iosLinkEle.href = iosLink;
            }
        }
    </script>
    <style>
        div {
            text-align: center
        }
    </style>
</head>

<body>
    <div>
        <h2 id="title">Epic Slots</h2>
        <img id="img" />
        <p>
            <a id="gpLink" target="_blank">Google Play</a>
        <p>
            <a id="iosLink" target="_blank">App Store</a>
    </div>
</body>

</html>